<!doctype html>
<html>
  <head>
    <title>Example of the Implicit Grant flow with Spotify</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <style type="text/css">
      #login, #loggedin {
        display: none;
      }
      .text-overflow {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        width: 500px;
      }
    </style>
  </head>

  <body>
      <div class="container">
          <div id="login">
              <h1>This is an example of the Implicit Grant flow</h1>
              <button id="login-button" class="btn btn-primary">Log in with Spotify</button>
          </div>
          <div id="loggedin">
              <div id="test">
              </div>
              <div id="recommend">
              </div>
              <div id="album_library">
              </div>
          </div>
      </div>

      <script id="test_template" type="text/x-handlebars-template">
          <h1>Test Result:</h1> {{this}}
      </script>

      <script id="recommend_template" type="text/x-handlebars-template">
          <h1>Recommended Songs</h1>
          {{#each items}}
          <div class="media">
              <div class="pull-left">
                  <img class="media-object" width="150" src="{{album.images.0.url}}" />
              </div>
              <div class="media-body">
                  <dl class="dl-horizontal">
                      <dt>Song Name</dt>
                      <dd class="clearfix">{{name}}</dd>
                      <dt>Artist(s)</dt>
                      {{#each artists}}<dd>{{name}}</dd>{{/each}}
                      <dt>Album Name</dt>
                      <dd>{{album.name}}</dd>
                      <dt>Accessibility</dt>
                      <dd>{{accessibility}}</dd>
                  </dl>
              </div>
          </div>
          {{/each}}
      </script>

      <script id="album_library_template" type="text/x-handlebars-template">
          <h1>Albums Saved By User</h1>
          {{#each items}}
          {{#with album}}
          <div class="media">
              <div class="pull-left">
                  <img class="media-object" width="150" src="{{images.0.url}}" />
              </div>
              <div class="media-body">
                  <dl class="dl-horizontal">
                      <dt>Album name</dt>
                      <dd class="clearfix">{{name}}</dd>
                      <dt>Artist(s)</dt>
                      {{#each artists}}<dd>{{name}}</dd>{{/each}}
                      <dt>Release Date</dt>
                      <dd>{{release_date}}</dd>
                      <dt>Popularity</dt>
                      <dd>{{popularity}}</dd>
                  </dl>
              </div>
          </div>
          {{/with}}
          {{/each}}
      </script>

      <!--<script id="oauth-template" type="text/x-handlebars-template">
          <h2>oAuth info</h2>
          <dl class="dl-horizontal">
              <dt>Access token</dt>
              <dd class="text-overflow">{{access_token}}</dd>
          </dl>
      </script>-->

      <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js"></script>
      <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

      <script src="clientSecrets.js"></script> <!--Holds client_id and redirect_uri-->

      <script src="helperFunctions.js"></script>
  </body>
</html>
